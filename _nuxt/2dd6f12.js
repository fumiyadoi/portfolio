(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{277:function(t,e,l){"use strict";var o=l(4),component=Object(o.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("svg",t._g({attrs:{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 60 60"}},t.$listeners),[l("defs",[l("style",{tag:"component"},[t._v(".Accessory_speed_low_svg__a{fill:none}.Accessory_speed_low_svg__b{fill:#a2a1a0}")])],1),l("path",{staticClass:"Accessory_speed_low_svg__a",attrs:{d:"M0 0h60v60H0z"}}),l("path",{staticClass:"Accessory_speed_low_svg__a",attrs:{d:"M46.768 14H14v32.768h32.768z"}}),l("path",{staticClass:"Accessory_speed_low_svg__b",attrs:{d:"M18.943 25.701l1.679 2.526a10.923 10.923 0 00.3 10.349h18.924A10.923 10.923 0 0025.5 23.352l-2.529-1.677a13.653 13.653 0 0119.223 18.266 2.731 2.731 0 01-2.348 1.365h-18.91a2.731 2.731 0 01-2.376-1.365 13.653 13.653 0 01.369-14.254z"}}),l("path",{staticClass:"Accessory_speed_low_svg__b",attrs:{d:"M32.314 35.04a2.731 2.731 0 01-3.864 0l-7.736-11.592 11.6 7.728a2.731 2.731 0 010 3.864z"}})])}),[],!1,null,null,null);e.a=component.exports},278:function(t,e,l){"use strict";var o=l(4),component=Object(o.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("svg",t._g({attrs:{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 60 60"}},t.$listeners),[l("defs",[l("style",{tag:"component"},[t._v(".Accessory_speed_max_svg__a{fill:none}.Accessory_speed_max_svg__b{fill:#a2a1a0}")])],1),l("path",{staticClass:"Accessory_speed_max_svg__a",attrs:{d:"M0 0h60v60H0z"}}),l("path",{staticClass:"Accessory_speed_max_svg__a",attrs:{d:"M14 14h32.768v32.768H14z"}}),l("path",{staticClass:"Accessory_speed_max_svg__b",attrs:{d:"M41.825 25.701l-1.683 2.526a10.923 10.923 0 01-.3 10.348h-18.92a10.923 10.923 0 0114.35-15.223l2.525-1.677a13.653 13.653 0 00-19.223 18.266 2.731 2.731 0 002.348 1.366h18.91a2.731 2.731 0 002.376-1.365 13.653 13.653 0 00-.366-14.255z"}}),l("path",{staticClass:"Accessory_speed_max_svg__b",attrs:{d:"M28.455 35.04a2.731 2.731 0 003.864 0l7.736-11.592-11.6 7.728a2.731 2.731 0 000 3.864z"}})])}),[],!1,null,null,null);e.a=component.exports},283:function(t,e,l){var content=l(295);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(17).default)("7651c9ca",content,!0,{sourceMap:!1})},294:function(t,e,l){"use strict";l(283)},295:function(t,e,l){var o=l(16)(!1);o.push([t.i,".vue-slider-dot-tooltip-inner.vue-slider-dot-tooltip-inner-top{border:#f18d1d;background-color:#f18d1d;visibility:visible}.vue-slider-dot-handle,.vue-slider-process{background-color:#f18d1d}.guinness-button{padding:4px 6px;border-radius:4px;transition:all .3s;border:1px solid #3362a8;background:#fff;color:#3362a8;box-shadow:0 2px 3px rgba(0,0,0,.16078)}.tategaki-wrapper{display:flex;flex-flow:column;align-items:center}.tategaki{-ms-writing-mode:tb-rl;writing-mode:vertical-rl;line-height:2em;letter-spacing:.03em;display:inline-block}.sokudoku-wrapper{display:flex;flex-flow:column}.wrapper-content{border-radius:4px;background:#fff}#pause,#play,#speed{display:flex;align-items:center;cursor:pointer}#gotoppage{border:.5px solid #3362a8;color:#3362a8;border-radius:8px}#close:hover{cursor:pointer}hr{margin:0}#modal-content-content{width:90%}@media screen and (min-width:769px){#modal-content-content{width:50%}}",""]),t.exports=o},306:function(t,e,l){"use strict";l.r(e);var o=l(10),n=(l(61),l(196),l(102),l(45),l(62),l(4)),r=Object(n.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("svg",t._g({attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",viewBox:"0 0 90 90"}},t.$listeners),[l("defs",[l("style",{tag:"component"},[t._v(".Accessory_speed_low_2_svg__a{fill:none}.Accessory_speed_low_2_svg__b{fill:#3362a8}")])],1),l("path",{staticClass:"Accessory_speed_low_2_svg__a",attrs:{d:"M0 0h90v90H0z"}}),l("path",{staticClass:"Accessory_speed_low_2_svg__a",attrs:{d:"M69.852 21H21v48.852h48.852z"}}),l("path",{staticClass:"Accessory_speed_low_2_svg__b",attrs:{d:"M28.368 38.444l2.5 3.766a16.284 16.284 0 00.452 15.429h28.212A16.284 16.284 0 0038.14 34.943l-3.766-2.5a20.355 20.355 0 0128.66 27.235 4.071 4.071 0 01-3.5 2.036H31.34a4.071 4.071 0 01-3.542-2.036 20.355 20.355 0 01.55-21.251z"}}),l("path",{staticClass:"Accessory_speed_low_2_svg__b",attrs:{d:"M48.296 52.366a4.071 4.071 0 01-5.761 0l-11.524-17.28 17.285 11.521a4.071 4.071 0 010 5.761z"}})])}),[],!1,null,null,null).exports,c=Object(n.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("svg",t._g({attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",viewBox:"0 0 90 90"}},t.$listeners),[l("defs",[l("style",{tag:"component"},[t._v(".Accessory_Pause_svg__a{fill:none}")])],1),l("path",{staticClass:"Accessory_Pause_svg__a",attrs:{d:"M0 0h90v90H0z"}}),l("path",{attrs:{d:"M45 70a25 25 0 1125-25 25.028 25.028 0 01-25 25zm5.625-35a3.129 3.129 0 00-3.125 3.126v13.75a3.125 3.125 0 106.25 0v-13.75A3.128 3.128 0 0050.625 35zm-12.5 0A3.129 3.129 0 0035 38.126v13.75a3.126 3.126 0 006.251 0v-13.75A3.129 3.129 0 0038.124 35z",fill:"#3362a8"}}),l("path",{staticClass:"Accessory_Pause_svg__a",attrs:{d:"M15 15h60v60H15z"}})])}),[],!1,null,null,null).exports,d=Object(n.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("svg",t._g({attrs:{xmlns:"http://www.w3.org/2000/svg",width:"91.011",height:"90",viewBox:"0 0 91.011 90"}},t.$listeners),[l("defs",[l("style",{tag:"component"},[t._v(".Accessory_Play_svg__a{fill:none}")])],1),l("path",{staticClass:"Accessory_Play_svg__a",attrs:{d:"M0 0h91.011v90H0z"}}),l("path",{staticClass:"Accessory_Play_svg__a",attrs:{d:"M15.169 15h61.065v61.065H15.169z"}}),l("path",{attrs:{d:"M45.702 70.976a25.444 25.444 0 1125.443-25.443 25.472 25.472 0 01-25.443 25.443zm-6.359-38.907a2.55 2.55 0 00-2.547 2.548v19.924a2.55 2.55 0 002.549 2.548 2.509 2.509 0 001.243-.33l17.71-9.961a2.545 2.545 0 000-4.436L40.588 32.4a2.513 2.513 0 00-1.245-.331zm2.033 18.992V38.097l11.523 6.481-11.519 6.48z",fill:"#3362a8"}})])}),[],!1,null,null,null).exports,h=l(277),_=l(278),v=l(279),m=l.n(v),f=(l(280),{layout:"defaultContent",data:function(){return{bookTitle:"",body:"",trimmed:[],highlights:[],page:0,length:"",intervalId:void 0,isPlay:!0,fontsize:"",charaLen:0,lines:0,nowline:0,modal_class:"",speed:50}},computed:{tategakiHeight:function(){return window.innerWidth>768?.97*(window.innerHeight-58)-132:.97*(window.innerHeight-80)-108},height:function(){return"height: ".concat(this.tategakiHeight,"px;")},displaySpeed:function(){return 10*Math.floor(6e3/(17.91196*Math.exp(-.0201*this.speed)))}},components:{Speed:r,Pause:c,Play:d,Min:h.a,Max:_.a,VueSlider:m.a},watch:{page:function(t,e){this.text=String(this.page)}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var i,l,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.speed=t.$store.state.data.sokudokuSpeed,"small"===t.$store.state.data.fontsize?(t.fontsize="is-size-7",t.lines=window.innerWidth<769?Math.floor(.03803*window.innerWidth):Math.floor(.01341*window.innerWidth)):"medium"===t.$store.state.data.fontsize?(t.fontsize="is-size-6",t.lines=window.innerWidth<769?Math.floor(.02679*window.innerWidth):Math.floor(.009*window.innerWidth+1)):(t.fontsize="is-size-5",t.lines=window.innerWidth<769?Math.floor(.02232*window.innerWidth):Math.floor(.00746*window.innerWidth)),i=0;i<t.lines;i++)"small"===t.$store.state.data.fontsize?t.highlights.push({color:"#c9c8c7",width:"24px"}):"medium"===t.$store.state.data.fontsize?t.highlights.push({color:"#c9c8c7",width:"32px"}):t.highlights.push({color:"#c9c8c7",width:"40px"});l=t.$store.state.data.bookList.concat(t.$store.state.data.userBookList),o=t.$store.state.data.bookContent.concat(t.$store.state.data.userBookContent),t.bookTitle=l[t.$store.state.data.bookIndex],t.body=o[t.$store.state.data.bookIndex],"is-size-7"===t.fontsize?(t.charaLen=Math.floor(.07675*t.tategakiHeight),t.bodySlice()):"is-size-6"===t.fontsize?(t.charaLen=Math.floor(.05907*t.tategakiHeight),t.bodySlice()):(t.charaLen=Math.floor(.04922*t.tategakiHeight-1.966),t.bodySlice()),t.length=Math.floor(t.trimmed.length/t.lines+1),t.$nuxt.$emit("updateRef","sokudoku-top"),t.$nuxt.$emit("updateTitle",t.bookTitle),t.play();case 12:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.pause();for(var t=0,i=0;i<this.page*this.lines;i++)this.trimmed[i].length<this.charaLen&&(t+=this.charaLen-this.trimmed[i].length-1);this.$store.commit("data/changePage",[0,this.page*this.lines*this.charaLen-t])},methods:{bodySlice:function(){for(var t=this.$store.state.data.charaIndexs[this.$store.state.data.bookIndex][0],e=0,l=!1,o=!1;;){for(var n=!1,i=0;i<this.charaLen;i++)if(" "===this.body[e+i]&&(this.trimmed.push(this.body.slice(e,e+i)),e+=i+1,n=!0),void 0===this.body[e+i]){l=!0,0!==i&&this.trimmed.push(this.body.slice(e,e+i));break}if(l)break;n||(this.trimmed.push(this.body.slice(e,e+this.charaLen)),e+=this.charaLen),o||e>t&&(this.page=Math.floor(this.trimmed.length/this.lines),o=!0)}},onSpeedModal:function(){this.pause(),"is-active"===this.modal_class?(this.modal_class="",this.$store.commit("data/changeSokudokuSpeed",this.speed)):this.modal_class="is-active"},setGuinness:function(){this.speed=100,this.$store.commit("data/changeSokudokuSpeed",this.speed)},goTopPage:function(){this.pause(),this.resetHighlights(),this.highlights[0].color="black",this.nowline=0,this.page=0},pause:function(){clearInterval(this.intervalId),this.isPlay=!1},resetHighlights:function(){for(var i=0;i<this.lines;i++)this.highlights[i].color="#c9c8c7"},play:function(){var t=this;void 0===this.trimmed[this.page*this.lines+this.nowline+1]?(clearInterval(this.intervalId),this.isPlay=!1):(this.highlights[this.nowline].color="black",this.isPlay=!0,this.intervalId=setInterval((function(){t.nowline<t.lines-1?(t.resetHighlights(),t.nowline++,t.highlights[t.nowline].color="black",void 0===t.trimmed[t.page*t.lines+t.nowline+1]&&(clearInterval(t.intervalId),t.isPlay=!1)):(t.page++,t.nowline=0,t.resetHighlights(),t.highlights[0].color="black",void 0===t.trimmed[t.page*t.lines+t.nowline+1]&&(clearInterval(t.intervalId),t.isPlay=!1))}),this.charaLen*(17.91196*Math.exp(-.0201*this.speed))))}}}),w=(l(294),Object(n.a)(f,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"columns is-mobile is-centered",staticStyle:{width:"100%",height:"97%",margin:"0"}},[l("div",{staticClass:"column is-4-tablet is-11-mobile"},[l("div",{staticClass:"columns is-mobile is-multiline is-centered is-vcentered"},[l("div",{staticClass:"column is-12 wrapper-content mb-3 tategaki-wrapper"},[l("div",{key:t.page,staticClass:"sokudoku-wrapper tategaki pt-3 pb-1",class:t.fontsize,style:t.height},t._l(t.lines,(function(i){return l("span",{key:i,staticStyle:{cursor:"default"},style:t.highlights[i-1]},[t._v(t._s(t.trimmed[t.page*t.lines+i-1]))])})),0),t._v(" "),l("div",{staticClass:"is-size-7 has-text-centered"},[t._v(t._s(t.page+1+"/"+t.length))])]),t._v(" "),l("div",{staticClass:"column is-12 wrapper-content"},[l("div",{staticClass:"columns is-mobile is-vcentered"},[l("figure",{staticClass:"image is-1",attrs:{id:"speed"},on:{click:t.onSpeedModal}},[l("Speed",{staticStyle:{width:"60px",height:"60px"}})],1),t._v(" "),t.isPlay?l("figure",{staticClass:"image is-1",attrs:{id:"pause"},on:{click:t.pause}},[l("Pause",{staticStyle:{width:"60px",height:"60px"}})],1):l("figure",{staticClass:"image is-1",attrs:{id:"play"},on:{click:t.play}},[l("Play",{staticStyle:{width:"60px",height:"60px"}})],1),t._v(" "),l("div",{staticClass:"column is-fullwidth has-text-right"},[l("span",{staticClass:"p-2 is-size-7",attrs:{id:"gotoppage"},on:{click:t.goTopPage}},[t._v("最初に戻る >|")])])])])]),t._v(" "),l("div",{staticClass:"modal",class:t.modal_class,attrs:{id:"modal"}},[l("div",{staticClass:"modal-background",attrs:{id:"modal-background"}}),t._v(" "),l("div",{staticClass:"modal-content has-background-white",staticStyle:{"border-radius":"8px"},attrs:{id:"modal-content-content"}},[l("div",{staticClass:"column is-12"},[l("div",{staticClass:"columns is-mobile is-vcentered",attrs:{id:"modalnav"}},[l("div",{staticClass:"column is-2"}),t._v(" "),l("div",{staticClass:"column is-8 has-text-weight-semibold has-text-centered",staticStyle:{color:"#404a72"}},[t._v("速度")]),t._v(" "),l("div",{staticClass:"column is-2 has-text-weight-semibold has-text-right",staticStyle:{"font-size":"1.5em",color:"#404a72"}},[l("span",{attrs:{id:"close"},on:{click:t.onSpeedModal}},[t._v("×")])])])]),t._v(" "),l("hr"),t._v(" "),l("div",{staticClass:"column is-12 mt-6 mb-4"},[l("div",{staticClass:"columns is-centered is-vcentered is-mobile"},[l("figure",{staticClass:"image is-2",staticStyle:{display:"flex","align-items":"center"}},[l("Min",{staticStyle:{width:"40px",height:"40px"}})],1),t._v(" "),l("vue-slider",{ref:"slider",staticStyle:{width:"60%"},attrs:{min:1,max:100},model:{value:t.speed,callback:function(e){t.speed=e},expression:"speed"}}),t._v(" "),l("figure",{staticClass:"image is-2",staticStyle:{display:"flex","align-items":"center"}},[l("Max",{staticStyle:{width:"40px",height:"40px"}})],1),t._v(" "),l("button",{staticClass:"guinness-button is-size-7",staticStyle:{cursor:"pointer"},on:{click:t.setGuinness}},[t._v("ギネス")])],1)]),t._v(" "),l("div",{staticClass:"column is-12 is-size-7 has-text-centered",staticStyle:{"padding-top":"0",color:"#404a72"}},[t._v(t._s(t.displaySpeed)+"文字/分")]),t._v(" "),l("div",{staticClass:"column is-12 has-text-centered"},[t._v("スライドして速度の調整が可能です。")])])])])])}),[],!1,null,null,null));e.default=w.exports}}]);