(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{283:function(h,t,e){var content=e(297);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[h.i,content,""]]),content.locals&&(h.exports=content.locals);(0,e(17).default)("43c73608",content,!0,{sourceMap:!1})},296:function(h,t,e){"use strict";e(283)},297:function(h,t,e){var r=e(16)(!1);r.push([h.i,".tategaki-wrapper{display:flex;flex-flow:column;align-items:center}.tategaki{-ms-writing-mode:tb-rl;writing-mode:vertical-rl;line-height:2em;letter-spacing:.03em;display:inline-block}.sokutore-wrapper{display:flex;flex-flow:column}.trimmed-wrapper span:first-child{z-index:1;border-radius:50%}.trimmed-wrapper span:nth-child(2){margin-top:-.32em;margin-bottom:-.28em;border-radius:50%}.trimmed-wrapper span:nth-child(3){z-index:1;border-radius:50%}.trimmed-wrapper span:nth-child(4){margin-top:-.32em;margin-bottom:-.28em;border-radius:50%}.trimmed-wrapper span:nth-child(5){z-index:1;border-radius:50%}.trimmed-wrapper span:nth-child(6){margin-top:-.32em;margin-bottom:-.28em;border-radius:50%}.trimmed-wrapper span:nth-child(7){z-index:1;border-radius:50%}.lastSpace{margin-top:.28em}.wrapper-content{border-radius:4px;background:#fff}#sokutore_button{border:.5px solid #3362a8;color:#3362a8;border-radius:8px}.is-size-8-sokutore{font-size:.5em;line-height:6em}.is-size-7-sokutore{line-height:2.5em}.is-size-6-sokutore{line-height:1.8em}",""]),h.exports=r},309:function(h,t,e){"use strict";e.r(t);var r=e(10),l=(e(61),e(195),e(101),e(45),e(62),{layout:"defaultContent",data:function(){return{bookTitle:"",body:"",trimmed1:[],trimmed2:[],trimmed3:[],trimmed4:[],highlightChara1:[],highlightChara2:[],highlightChara3:[],highlightStyle1:[],highlightStyle2:[],highlightStyle3:[],lastSpace:[],width:{},page:0,length:0,charaLeftSum:0,intervalId:void 0,fontsize:"",charaLen:0,lines:0,nowline:0,speed:50}},computed:{highlightVer:function(){return this.$store.state.data.highlightStyle},displayTrimmed:function(i){return this.trimmed[this.page*this.lines+i-1]},tategakiHeight:function(){return window.innerWidth>768?.97*(window.innerHeight-58)-132:.97*(window.innerHeight-80)-108},height:function(){return"height: ".concat(this.tategakiHeight,"px;")}},mounted:function(){var h=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.speed=h.$store.state.data.sokutoreSpeed,"small"===h.$store.state.data.fontsize?(h.fontsize="is-size-7",h.width.width="24px",h.lines=window.innerWidth<769?Math.floor(.03803*window.innerWidth):Math.floor(.01341*window.innerWidth)):"medium"===h.$store.state.data.fontsize?(h.fontsize="is-size-6",h.width.width="32px",h.lines=window.innerWidth<769?Math.floor(.02679*window.innerWidth):Math.floor(.009*window.innerWidth+1)):(h.fontsize="is-size-5",h.width.width="40px",h.lines=window.innerWidth<769?Math.floor(.02232*window.innerWidth):Math.floor(.00746*window.innerWidth)),e=h.$store.state.data.bookList.concat(h.$store.state.data.userBookList),r=h.$store.state.data.bookContent.concat(h.$store.state.data.userBookContent),h.bookTitle=e[h.$store.state.data.bookIndex],h.body=r[h.$store.state.data.bookIndex],h.$nuxt.$emit("updateRef","sokutore-top"),h.$nuxt.$emit("updateTitle",h.bookTitle),"is-size-7"===h.fontsize?(h.charaLen=Math.floor(.07675*h.tategakiHeight),h.bodySlice()):"is-size-6"===h.fontsize?(h.charaLen=Math.floor(.05907*h.tategakiHeight),h.bodySlice()):(h.charaLen=Math.floor(.04922*h.tategakiHeight-1.966),h.bodySlice()),h.length=Math.floor(h.trimmed1.length/h.lines+1),h.highlight();case 11:case"end":return t.stop()}}),t)})))()},destroyed:function(){clearInterval(this.intervalId);var h=0;if("1列ハイライト"===this.highlightVer)for(var i=0;i<this.page*this.lines;i++)this.trimmed1[i].length<this.charaLen-2&&(h+=this.charaLen-this.highlightChara1[i].length-this.trimmed1[i].length-this.highlightChara2[i].length-1);else if("1列2分割ハイライト"===this.highlightVer)for(var t=0;t<this.page*this.lines;t++)this.trimmed1[t].length+this.trimmed2[t].length+this.trimmed3[t].length<this.charaLen-2&&(h+=this.charaLen-this.trimmed1[t].length-this.highlightChara1[t].length-this.trimmed2[t].length-this.highlightChara2[t].length-this.trimmed3[t].length-1);else for(var e=0;e<this.page*this.lines;e++)this.trimmed1[e].length+this.trimmed2[e].length+this.trimmed3[e].length+this.trimmed4[e].length<this.charaLen-3&&(h+=this.charaLen-this.trimmed1[e].length-this.highlightChara1[e].length-this.trimmed2[e].length-this.highlightChara2[e].length-this.trimmed3[e].length-this.highlightChara3[e].length-this.trimmed4[e].length-1);this.$store.commit("data/changePage",[1,this.page*this.lines*this.charaLen-h])},methods:{bodySlice:function(){var h=this.$store.state.data.charaIndexs[this.$store.state.data.bookIndex][1],t=0,e=!1,r=!1,l=!1;if("1列ハイライト"===this.highlightVer)for(;;){r=!1;for(var i=0;i<this.charaLen;i++){if(" "===this.body[t+i]){0===i?(this.highlightChara1.push(""),this.trimmed1.push(""),this.highlightChara2.push("")):1===i?(this.highlightChara1.push(this.body[t]),this.trimmed1.push(""),this.highlightChara2.push("")):2===i?(this.highlightChara1.push(this.body[t]),this.trimmed1.push(""),this.highlightChara2.push(this.body[t+1])):i>2&&(this.highlightChara1.push(this.body[t]),this.trimmed1.push(this.body.slice(t+1,t+i-1)),this.highlightChara2.push(this.body[t+i-1])),t+=i+1,r=!0,this.charaLeftSum+=this.charaLen-i;break}if(void 0===this.body[t+i]){e=!0,0!==i&&(1===i?(this.highlightChara1.push(this.body[t]),this.trimmed1.push(""),this.highlightChara2.push("")):2===i?(this.highlightChara1.push(this.body[t]),this.trimmed1.push(""),this.highlightChara2.push(this.body[t+1])):(this.highlightChara1.push(this.body[t]),this.trimmed1.push(this.body.slice(t+1,t+i-1)),this.highlightChara2.push(this.body[t+i-1])));break}}if(e)break;r||(this.highlightChara1.push(this.body[t]),this.trimmed1.push(this.body.slice(t+1,t+this.charaLen-1)),this.highlightChara2.push(this.body[t+this.charaLen-1]),t+=this.charaLen),l||t>h&&(this.page=Math.floor(this.trimmed1.length/this.lines),l=!0)}else if("1列2分割ハイライト"===this.highlightVer)for(var d=Math.floor(.25*this.charaLen),o=Math.floor(.5*this.charaLen),n=Math.floor(.75*this.charaLen);;){r=!1;for(var m=0;m<this.charaLen;m++){if(" "===this.body[t+m]){0===m?(this.trimmed1.push(""),this.highlightChara1.push(""),this.trimmed2.push(""),this.highlightChara2.push(""),this.trimmed3.push("")):m<=d+1?(this.trimmed1.push(this.body.slice(t,t+m-1)),this.highlightChara1.push(this.body[t+m-1]),this.trimmed2.push(""),this.highlightChara2.push(""),this.trimmed3.push("")):m<o?(this.trimmed1.push(this.body.slice(t,t+d)),this.highlightChara1.push(this.body[t+d]),this.trimmed2.push(this.body.slice(t+d+1,t+m)),this.highlightChara2.push(""),this.trimmed3.push("")):m<=n+1?(this.trimmed1.push(this.body.slice(t,t+d)),this.highlightChara1.push(this.body[t+d]),this.trimmed2.push(this.body.slice(t+d+1,t+m-1)),this.highlightChara2.push(this.body[t+m-1]),this.trimmed3.push("")):(this.trimmed1.push(this.body.slice(t,t+d)),this.highlightChara1.push(this.body[t+d]),this.trimmed2.push(this.body.slice(t+d+1,t+n)),this.highlightChara2.push(this.body[t+n]),this.trimmed3.push(this.body.slice(t+n+1,t+m))),t+=m+1,r=!0,this.charaLeftSum+=this.charaLen-m;break}if(void 0===this.body[t+m]){e=!0,0!==m&&(m<=d+1?(this.trimmed1.push(this.body.slice(t,t+m-1)),this.highlightChara1.push(this.body[t+m-1]),this.trimmed2.push(""),this.highlightChara2.push(""),this.trimmed3.push("")):m<o?(this.trimmed1.push(this.body.slice(t,t+d)),this.highlightChara1.push(this.body[t+d]),this.trimmed2.push(this.body.slice(t+d+1,t+m)),this.highlightChara2.push(""),this.trimmed3.push("")):m<=n+1?(this.trimmed1.push(this.body.slice(t,t+d)),this.highlightChara1.push(this.body[t+d]),this.trimmed2.push(this.body.slice(t+d+1,t+m-1)),this.highlightChara2.push(this.body[t+m-1]),this.trimmed3.push("")):(this.trimmed1.push(this.body.slice(t,t+d)),this.highlightChara1.push(this.body[t+d]),this.trimmed2.push(this.body.slice(t+d+1,t+n)),this.highlightChara2.push(this.body[t+n]),this.trimmed3.push(this.body.slice(t+n+1,t+m))));break}}if(e)break;r||(this.trimmed1.push(this.body.slice(t,t+d)),this.highlightChara1.push(this.body[t+d]),this.trimmed2.push(this.body.slice(t+d+1,t+n)),this.highlightChara2.push(this.body[t+n]),this.trimmed3.push(this.body.slice(t+n+1,t+this.charaLen)),t+=this.charaLen),l||t>h&&(this.page=Math.floor(this.trimmed1.length/this.lines),l=!0)}else for(var c=Math.floor(.167*this.charaLen),y=Math.floor(.333*this.charaLen),f=Math.floor(.5*this.charaLen),C=Math.floor(.667*this.charaLen),v=Math.floor(.833*this.charaLen);;){r=!1;for(var k=0;k<this.charaLen;k++){if(" "===this.body[t+k]){0===k?(this.trimmed1.push(""),this.highlightChara1.push(""),this.trimmed2.push(""),this.highlightChara2.push(""),this.trimmed3.push(""),this.highlightChara3.push(""),this.trimmed4.push("")):k<=c+1?(this.trimmed1.push(this.body.slice(t,t+k-1)),this.highlightChara1.push(this.body[t+k-1]),this.trimmed2.push(""),this.highlightChara2.push(""),this.trimmed3.push(""),this.highlightChara3.push(""),this.trimmed4.push("")):k<y?(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+k)),this.highlightChara2.push(""),this.trimmed3.push(""),this.highlightChara3.push(""),this.trimmed4.push("")):k<=f+1?(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+k-1)),this.highlightChara2.push(this.body[t+k-1]),this.trimmed3.push(""),this.highlightChara3.push(""),this.trimmed4.push("")):k<C?(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+f)),this.highlightChara2.push(this.body[t+f]),this.trimmed3.push(this.body.slice(t+f+1,t+k)),this.highlightChara3.push(""),this.trimmed4.push("")):k<=v+1?(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+f)),this.highlightChara2.push(this.body[t+f]),this.trimmed3.push(this.body.slice(t+f+1,t+k-1)),this.highlightChara3.push(this.body[t+k-1]),this.trimmed4.push("")):(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+f)),this.highlightChara2.push(this.body[t+f]),this.trimmed3.push(this.body.slice(t+f+1,t+v)),this.highlightChara3.push(this.body[t+v]),this.trimmed4.push(this.body.slice(t+v+1,t+k))),t+=k+1,r=!0,this.charaLeftSum+=this.charaLen-k;break}if(void 0===this.body[t+k]){e=!0,0!==k&&(k<=c+1?(this.trimmed1.push(this.body.slice(t,t+k-1)),this.highlightChara1.push(this.body[t+k-1]),this.trimmed2.push(""),this.highlightChara2.push(""),this.trimmed3.push(""),this.highlightChara3.push(""),this.trimmed4.push("")):k<y?(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+k)),this.highlightChara2.push(""),this.trimmed3.push(""),this.highlightChara3.push(""),this.trimmed4.push("")):k<=f+1?(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+k-1)),this.highlightChara2.push(this.body[t+k-1]),this.trimmed3.push(""),this.highlightChara3.push(""),this.trimmed4.push("")):k<C?(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+f)),this.highlightChara2.push(this.body[t+f]),this.trimmed3.push(this.body.slice(t+f+1,t+k)),this.highlightChara3.push(""),this.trimmed4.push("")):k<=v+1?(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+f)),this.highlightChara2.push(this.body[t+f]),this.trimmed3.push(this.body.slice(t+f+1,t+k-1)),this.highlightChara3.push(this.body[t+k-1]),this.trimmed4.push("")):(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+f)),this.highlightChara2.push(this.body[t+f]),this.trimmed3.push(this.body.slice(t+f+1,t+v)),this.highlightChara3.push(this.body[t+v]),this.trimmed4.push(this.body.slice(t+v+1,t+k))));break}}if(e)break;r||(this.trimmed1.push(this.body.slice(t,t+c)),this.highlightChara1.push(this.body[t+c]),this.trimmed2.push(this.body.slice(t+c+1,t+f)),this.highlightChara2.push(this.body[t+f]),this.trimmed3.push(this.body.slice(t+f+1,t+v)),this.highlightChara3.push(this.body[t+v]),this.trimmed4.push(this.body.slice(t+v+1,t+this.charaLen)),t+=this.charaLen),l||t>h&&(this.page=Math.floor(this.trimmed1.length/this.lines),l=!0)}},nextPage:function(){this.page+1<this.length&&(clearInterval(this.intervalId),this.page++,this.highlight())},goTopPage:function(){clearInterval(this.intervalId),this.page=0,this.highlight()},highlight:function(){var h=this,t=0,e=0;this.highlightStyle1=[],this.highlightStyle2=[],this.highlightStyle3=[];for(var r=!1,l=!1,i=0;i<this.lines;i++)this.highlightStyle1.push({background:"none"}),this.highlightStyle2.push({background:"none"}),this.highlightStyle3.push({background:"none"});if(""!==this.highlightChara1[this.page*this.lines])this.highlightStyle1[0].background="yellow";else{r=!1;for(var d=1;d<this.lines-1;d++)if(""!==this.highlightChara1[this.page*this.lines+d]){t+=d,this.highlightStyle1[t].background="yellow",r=!0;break}r||(l=!0)}"1列3分割ハイライト"===this.highlightVer?this.intervalId=setInterval((function(){if(l=!1,t<h.lines){if(0===e)if(""!==h.highlightChara2[h.page*h.lines+t])void 0===h.highlightChara2[h.page*h.lines+t]?l=!0:e++;else{r=!1;for(var d=1;d<h.lines-t;d++)if(""!==h.highlightChara1[h.page*h.lines+t+d]){t+=d,r=!0;break}r||(l=!0)}else if(1===e)if(""!==h.highlightChara3[h.page*h.lines+t])void 0===h.highlightChara3[h.page*h.lines+t]?l=!0:e++;else{r=!1;for(var o=1;o<h.lines-t;o++)if(""!==h.highlightChara1[h.page*h.lines+t+o]){t+=o,e=0,r=!0;break}r||(l=!0)}else if(2===e)if(e=0,""!==h.highlightChara1[h.page*h.lines+t+1])void 0===h.highlightChara1[h.page*h.lines+t+1]||t+1===h.lines?l=!0:t++;else{r=!1;for(var n=1;n<h.lines-1;n++)if(""!==h.highlightChara1[h.page*h.lines+t+n]){t+=n,r=!0;break}r||(l=!0)}if(l)clearInterval(h.intervalId);else{for(var m=0;m<h.lines;m++)h.highlightStyle1[m].background="none",h.highlightStyle2[m].background="none",h.highlightStyle3[m].background="none";0===e?h.highlightStyle1[t].background="yellow":1===e?h.highlightStyle2[t].background="yellow":h.highlightStyle3[t].background="yellow"}}else clearInterval(h.intervalId)}),this.charaLen*(.33*17.91196*Math.exp(-.0201*this.speed))):this.intervalId=setInterval((function(){if(l=!1,t<h.lines){if(0===e)if(""!==h.highlightChara2[h.page*h.lines+t])void 0===h.highlightChara2[h.page*h.lines+t]?l=!0:e++;else{r=!1;for(var d=1;d<h.lines-t;d++)if(""!==h.highlightChara1[h.page*h.lines+t+d]){t+=d,r=!0;break}r||(l=!0)}else if(1===e)if(e=0,""!==h.highlightChara1[h.page*h.lines+t+1])void 0===h.highlightChara1[h.page*h.lines+t+1]||t+1===h.lines?l=!0:t++;else{r=!1;for(var o=1;o<h.lines-1;o++)if(""!==h.highlightChara1[h.page*h.lines+t+o]){t+=o,r=!0;break}r||(l=!0)}if(l)clearInterval(h.intervalId);else{for(var n=0;n<h.lines;n++)h.highlightStyle1[n].background="none",h.highlightStyle2[n].background="none";0===e?h.highlightStyle1[t].background="yellow":h.highlightStyle2[t].background="yellow"}}else clearInterval(h.intervalId)}),this.charaLen*(8.95598*Math.exp(-.0201*this.speed)))}}}),d=(e(296),e(4)),component=Object(d.a)(l,(function(){var h=this,t=h.$createElement,e=h._self._c||t;return e("div",{staticClass:"columns is-mobile is-centered",staticStyle:{width:"100%",height:"97%",margin:"0"}},[e("div",{staticClass:"column is-4-tablet is-11-mobile"},[e("div",{staticClass:"columns is-mobile is-multiline is-centered is-vcentered"},[e("div",{staticClass:"column is-12 wrapper-content mb-3 tategaki-wrapper"},[e("div",{staticClass:"sokutore-wrapper tategaki pt-3 pb-1",class:h.fontsize,style:h.height},["1列ハイライト"==h.highlightVer?h._l(h.lines,(function(i){return e("div",{key:i,staticClass:"trimmed-wrapper",staticStyle:{cursor:"default"},style:h.width},[e("span",{key:String(h.page)+String(i)+"first",style:h.highlightStyle1[i-1]},[h._v(h._s(h.highlightChara1[h.page*h.lines+i-1]))]),h._v(" "),e("span",{key:String(h.page)+String(i)+"text1"},[h._v(h._s(h.trimmed1[h.page*h.lines+i-1]))]),h._v(" "),e("span",{key:String(h.page)+String(i)+"last",class:h.lastSpace[i-1],style:h.highlightStyle2[i-1]},[h._v(h._s(h.highlightChara2[h.page*h.lines+i-1]))])])})):h._l(h.lines,(function(i){return e("div",{key:i,staticClass:"trimmed-wrapper",staticStyle:{cursor:"default"},style:h.width},[e("span",{key:String(h.page)+String(i)+"text1"},[h._v(h._s(h.trimmed1[h.page*h.lines+i-1]))]),h._v(" "),e("span",{key:String(h.page)+String(i)+"first",style:h.highlightStyle1[i-1]},[h._v(h._s(h.highlightChara1[h.page*h.lines+i-1]))]),h._v(" "),e("span",{key:String(h.page)+String(i)+"text2"},[h._v(h._s(h.trimmed2[h.page*h.lines+i-1]))]),h._v(" "),e("span",{key:String(h.page)+String(i)+"last",style:h.highlightStyle2[i-1]},[h._v(h._s(h.highlightChara2[h.page*h.lines+i-1]))]),h._v(" "),e("span",{key:String(h.page)+String(i)+"text3"},[h._v(h._s(h.trimmed3[h.page*h.lines+i-1]))]),h._v(" "),e("span",{key:String(h.page)+String(i)+"last",style:h.highlightStyle3[i-1]},[h._v(h._s(h.highlightChara3[h.page*h.lines+i-1]))]),h._v(" "),e("span",{key:String(h.page)+String(i)+"text4"},[h._v(h._s(h.trimmed4[h.page*h.lines+i-1]))])])}))],2),h._v(" "),e("div",{staticClass:"is-size-7 has-text-centered"},[h._v(h._s(h.page+1+"/"+h.length))])]),h._v(" "),e("div",{staticClass:"column is-12 wrapper-content"},[e("div",{staticClass:"columns is-mobile is-vcentered"},[e("div",{staticClass:"column is-6 has-text-left"},[e("span",{staticClass:"p-2 is-size-7",attrs:{id:"sokutore_button"},on:{click:h.nextPage}},[h._v("< 次へ")])]),h._v(" "),e("div",{staticClass:"column is-6 has-text-right"},[e("span",{staticClass:"p-2 is-size-7",attrs:{id:"sokutore_button"},on:{click:h.goTopPage}},[h._v("最初に戻る >|")])])])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);