exports.ids = [5];
exports.modules = {

/***/ 72:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(81);
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(4).default
module.exports.__inject__ = function (context) {
  add("506a9aba", content, true, context)
};

/***/ }),

/***/ 80:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_bookedit_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_bookedit_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_bookedit_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_bookedit_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_bookedit_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ 81:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(3);
var ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);
// Module
___CSS_LOADER_EXPORT___.push([module.i, ".edit-button{width:100%;height:40px;font-size:1em;transition:all .3;padding:7px 16px;display:flex;border:none;background:none;justify-content:space-between;vertical-align:center}.edit-button:after{content:\"\";width:8px;height:8px;border-bottom:2px solid #404a72;border-right:2px solid #404a72;transform:rotate(-45deg);margin:auto 0}.edit-button:hover{cursor:pointer}.book-button{width:100%;height:40px;font-size:1em;transition:all .3;padding:7px 16px;display:flex;border:none;background:none;justify-content:space-between;vertical-align:center}hr{margin:0}.back-button,.bookbox{background:#fff}.back-button{width:100%;height:40px;border-radius:8px}.modoru{border:1px solid #3362a8;color:#3362a8}.Warn{border:1px solid red;color:red}.update-button{width:100%;height:40px;border-radius:8px;border:none;background:#f18d1d;color:#fff}.update-button:hover{color:#fff}#close:hover{cursor:pointer}#modal-content-top{width:90%}@media screen and (min-width:769px){.wrapper-top{background:#fff}#modal-content-top{width:50%}}", ""]);
// Exports
module.exports = ___CSS_LOADER_EXPORT___;


/***/ }),

/***/ 98:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/bookedit.vue?vue&type=template&id=c8dedc44&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"columns is-mobile is-centered",staticStyle:{"width":"100%","margin":"0"}},[_vm._ssrNode("<div class=\"column is-4-tablet is-11-mobile wrapper-top\"><div class=\"columns is-mobile is-multiline\"><div class=\"column is-12 has-text-weight-semibold mt-3\" style=\"color: #404a72;\">タイトル</div> <div class=\"column is-12\"><div class=\"columns is-mobile is-centered\"><div class=\"column is-12\"><input type=\"text\" placeholder=\"タイトルを入力してください\""+(_vm._ssrAttr("value",(_vm.bookTitle)))+" class=\"input is-size-7\" style=\"border-radius: 8px;\"></div></div></div> <div class=\"column is-12 has-text-weight-semibold\" style=\"color: #404a72;\">本文</div> <div class=\"column is-12\"><div class=\"columns is-mobile is-centered\"><div class=\"column is-12\"><textarea rows=\"7\" placeholder=\"本文を入力してください\" class=\"textarea is-size-7\" style=\"border-radius: 8px;\">"+_vm._ssrEscape(_vm._s(_vm.bookBody))+"</textarea></div></div></div> <div class=\"column is-12 mt-2\"><div class=\"columns is-centered is-mobile\"><div class=\"column is-12\"><button class=\"button update-button\">"+_vm._ssrEscape(_vm._s(_vm.register))+"</button></div></div></div> <div class=\"column is-12 mb-5\"><div class=\"columns is-centered is-mobile\"><div class=\"column is-12\"><button class=\"button back-button modoru\">戻る</button></div></div></div> "+((_vm.isEdit)?("<div class=\"column is-12 mb-5\"><div class=\"columns is-centered is-mobile\"><div class=\"column is-12\"><button class=\"button back-button Warn\">削除</button></div></div></div>"):"<!---->")+" <div id=\"modal\""+(_vm._ssrClass("modal",_vm.modal_class))+"><div id=\"modal-background\" class=\"modal-background\"></div> <div id=\"modal-content-top\" class=\"modal-content has-background-white\" style=\"border-radius: 8px;\"><div class=\"column is-12\"><div id=\"modalnav\" class=\"columns is-mobile is-vcentered\"><div class=\"column is-2\"></div> "+((_vm.isBack)?("<div class=\"column is-8 has-text-weight-semibold has-text-centered\" style=\"color: #404a72;\">確認</div>"):("<div class=\"column is-8 has-text-weight-semibold has-text-centered\" style=\"color: #404a72;\">教材の削除</div>"))+" <div class=\"column is-2 has-text-weight-semibold has-text-right\" style=\"font-size: 1.5em; color: #404a72;\"><span id=\"close\">×</span></div></div></div> <hr> "+((_vm.isBack)?("<div class=\"column is-12 has-text-weight-semibold has-text-centered\">入力内容の変更が保存されませんが戻りますか？</div>"):("<div class=\"column is-12 has-text-weight-semibold has-text-centered\">"+_vm._ssrEscape("「"+_vm._s(_vm.bookTitle)+"」を削除しますか？")+"</div>"))+" <div class=\"column is-12\"><div class=\"columns is-mobile is-vcentered is-multiline\"><div class=\"column is-6\">"+((_vm.isBack)?("<button class=\"button back-button is-size-7\">いいえ</button>"):("<button class=\"button back-button is-size-7\">キャンセル</button>"))+"</div> <div class=\"column is-6\">"+((_vm.isBack)?("<button class=\"button back-button Warn is-size-7\">はい</button>"):("<button class=\"button back-button Warn is-size-7\">削除</button>"))+"</div></div></div></div></div></div></div>")])}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/bookedit.vue?vue&type=template&id=c8dedc44&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/bookedit.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var bookeditvue_type_script_lang_js_ = ({
  layout: 'defaultEdit',

  data() {
    return {
      Ref: 'booklist',

      /* ここにnavberの戻るボタンの遷移先を入れください（by fumiya 2021.12.5） */
      Title: '教材の編集',

      /* ここにnavberのタイトルを入れください（by fumiya 2021.12.5） */
      isBack: true,
      bookTitleInitial: '',
      bookTitle: '',
      bookBodyInitial: '',
      bookBody: '',
      modal_class: '',
      isEdit: this.$store.state.data.flag,
      isChanged: false
    };
  },

  computed: {
    register: function () {
      return this.isEdit ? '更新' : '新規登録';
    }
  },

  async mounted() {
    /* navbarに入れる値を受け渡します */
    this.$nuxt.$emit('updateRef', this.Ref);
    /* navbarの戻るボタンの遷移先の受け渡し */

    this.$nuxt.$emit('updateTitle', this.Title);
    /* navbarのタイトルの受け渡し */

    /* ここからは文章追加か編集の判断を行います */

    if (this.isEdit) {
      const indexSub = this.$store.state.data.bookIndex - this.$store.state.data.bookList.length;
      this.bookTitleInitial = this.$store.state.data.userBookList[indexSub];
      this.bookTitle = this.$store.state.data.userBookList[indexSub];
      this.bookBodyInitial = this.$store.state.data.userBookContent[indexSub];
      this.bookBody = this.$store.state.data.userBookContent[indexSub];
    }
  },

  watch: {
    bookTitle: function (newVal, oldVal) {
      if (this.bookTitle === this.bookTitleInitial && this.bookBody === this.bookBodyInitial) {
        this.isChanged = false;
        this.$nuxt.$emit('checkChange', false);
      } else {
        this.isChanged = true;
        this.$nuxt.$emit('checkChange', true);
      }
    },
    bookBody: function (newVal, oldVal) {
      if (this.bookTitle === this.bookTitleInitial && this.bookBody === this.bookBodyInitial) {
        this.isChanged = false;
        this.$nuxt.$emit('checkChange', false);
      } else {
        this.isChanged = true;
        this.$nuxt.$emit('checkChange', true);
      }
    }
  },
  methods: {
    onSelectModal() {
      if (this.modal_class === 'is-active') {
        this.modal_class = '';
      } else {
        this.modal_class = 'is-active';
      }
    },

    checkBack() {
      if (this.isChanged) {
        this.isBack = true;
        this.onSelectModal();
      } else {
        this.goBack();
      }
    },

    checkDelete() {
      this.isBack = false;
      this.onSelectModal();
    },

    updateBook() {
      if (this.isEdit) {
        const bodyTmp1 = this.bookBody.split(' ').join('');
        const bodyTmp2 = bodyTmp1.split('　').join('');
        const bodyTmp3 = bodyTmp2.split('\n').join(' ');
        this.$store.commit('data/updateBookList', this.bookTitle);
        this.$store.commit('data/updateBookContent', this.bodyTmp3);
      } else {
        this.$store.commit('data/addBookList', this.bookTitle);
        this.$store.commit('data/addBookContent', this.bodyTmp3);
        this.$store.commit('data/addBook');
      }

      this.$router.push('booklist');
    },

    goBack() {
      this.$router.push('booklist');
    },

    goDelete() {
      this.$router.push('booklist');
      this.$store.commit('data/deleteBookList');
      this.$store.commit('data/deleteBookContent');
      this.$store.commit('data/changeBookIndex', 0);
    }

  }
});
// CONCATENATED MODULE: ./pages/bookedit.vue?vue&type=script&lang=js&
 /* harmony default export */ var pages_bookeditvue_type_script_lang_js_ = (bookeditvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/bookedit.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(80)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  pages_bookeditvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  null,
  "2c69e664"
  
)

/* harmony default export */ var bookedit = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=bookedit.js.map