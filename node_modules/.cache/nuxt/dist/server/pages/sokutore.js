exports.ids = [11];
exports.modules = {

/***/ 101:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/sokutore.vue?vue&type=template&id=020bd422&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"columns is-mobile is-centered",staticStyle:{"width":"100%","height":"80%","margin":"0"}},[_vm._ssrNode("<div class=\"column is-4-tablet is-11-mobile\"><div class=\"columns is-mobile is-multiline is-centered is-vcentered\"><div class=\"column is-12 wrapper-content mb-5 tategaki-wrapper\"><div"+(_vm._ssrClass("tategaki pt-3 pb-1",_vm.fontsize))+">"+(_vm._ssrList((3),function(i){return ("<div class=\"trimmed-wrapper\"><span"+(_vm._ssrStyle(null,_vm.highlightStyle[(i - 1) * 2], null))+">"+_vm._ssrEscape(_vm._s(_vm.firstLetter[_vm.page + (i - 1)]))+"</span> <span>"+_vm._ssrEscape(_vm._s(_vm.trimmed[_vm.page + (i - 1)]))+"</span> <span"+(_vm._ssrStyle(null,_vm.highlightStyle[(i - 1) * 2 + 1], null))+">"+_vm._ssrEscape(_vm._s(_vm.lastLetter[_vm.page + (i - 1)]))+"</span></div>")}))+"</div> <div class=\"is-size-7 has-text-centered\">"+_vm._ssrEscape(_vm._s((_vm.page / 3 + 1) +'/'+_vm.length))+"</div></div> <div class=\"column is-12 wrapper-content\"><div class=\"columns is-mobile is-vcentered\"><div class=\"column is-6 has-text-left\"><span id=\"sokutore_button\" class=\"p-2 is-size-7\">&lt; 次へ</span></div> <div class=\"column is-6 has-text-right\"><span id=\"sokutore_button\" class=\"p-2 is-size-7\">最初に戻る &gt;|</span></div></div></div></div></div>")])}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/sokutore.vue?vue&type=template&id=020bd422&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/sokutore.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var sokutorevue_type_script_lang_js_ = ({
  layout: 'defaultContent',

  data() {
    return {
      bookTitle: '',
      body: '',
      trimmed: [],
      firstLetter: [],
      lastLetter: [],
      highlightStyle: [],
      intervalId: undefined,
      length: '',
      page: '',
      fontsize: '',
      speed: 50
    };
  },

  async mounted() {
    this.speed = this.$store.state.data.sokutoreSpeed;
    /* スピードをvuexから取得します。 */

    /* 文字サイズを設定します。 */

    if (this.$store.state.data.fontsize === 'small') {
      this.fontsize = 'is-size-8-sokutore';
    } else if (this.$store.state.data.fontsize === 'medium') {
      this.fontsize = 'is-size-7-sokutore';
    } else {
      this.fontsize = 'is-size-6-sokutore';
    }

    const bookList = this.$store.state.data.bookList.concat(this.$store.state.data.userBookList);
    const bookContent = this.$store.state.data.bookContent.concat(this.$store.state.data.userBookContent);
    this.bookTitle = bookList[this.$store.state.data.bookIndex];
    this.body = bookContent[this.$store.state.data.bookIndex];
    this.$nuxt.$emit('updateRef', 'sokutore-top');
    /* navbarの戻るボタンの遷移先の受け渡し */

    this.$nuxt.$emit('updateTitle', this.bookTitle);
    /* navbarのタイトルの受け渡し */

    /* 本の中身を40文字ずつに分割します */

    for (let i = 0; i < this.body.length / 40; i++) {
      if (i === Math.floor(this.body.length / 40)) {
        this.firstLetter.push(this.body.charAt(i * 40));
        this.trimmed.push(this.body.slice(i * 40 + 1, this.body.length - 1));
        this.lastLetter.push(this.body.charAt(this.body.length - 1));
      } else {
        this.firstLetter.push(this.body.charAt(i * 40));
        this.trimmed.push(this.body.slice(i * 40 + 1, (i + 1) * 40 - 1));
        this.lastLetter.push(this.body.charAt((i + 1) * 40 - 1));
      }
    }
    /* 全ページ数と現在ページの表示を設定します。 */


    this.page = this.$store.state.data.bookPages[this.$store.state.data.bookIndex][1];
    this.length = Math.ceil(this.trimmed.length / 3);
    /* 最初のページのハイライト表示を開始します。 */

    this.highlight();
  },

  destroyed() {
    clearInterval(this.intervalId);
  },

  methods: {
    nextPage() {
      if (this.$store.state.data.bookPages[this.$store.state.data.bookIndex][1] / 3 < this.length - 1) {
        this.$store.commit('data/changePage', 1);
        this.page = this.$store.state.data.bookPages[this.$store.state.data.bookIndex][1];
        this.highlight();
      }
    },

    goTopPage() {
      clearInterval(this.intervalId);
      this.isPlay = false;
      this.$store.commit('data/goTopPage', 1);
      this.page = this.$store.state.data.bookPages[this.$store.state.data.bookIndex][1];
      this.highlight();
    },

    highlight() {
      /* ハイライトの初期表示を設定します。 */
      let n = 0;
      let limit = 0;
      this.highlightStyle = [];
      clearInterval(this.intervalId);

      for (let i = 0; i < 3; i++) {
        if (this.firstLetter[this.page + i] !== undefined) {
          limit += 2;
        } else {
          break;
        }
      }

      for (let i = 0; i < limit; i++) {
        this.highlightStyle.push({
          background: 'none'
        });
      }

      this.highlightStyle[0].background = 'yellow';
      /* ハイライトの移動処理を開始します。 */

      this.intervalId = setInterval(() => {
        if (n < limit - 1) {
          for (let i = 0; i < limit; i++) {
            if (i === n + 1) {
              this.highlightStyle[i].background = 'yellow';
            } else {
              this.highlightStyle[i].background = 'none';
            }
          }

          n++;
        }
      }, -100 * this.speed + 10100);
    }

  }
});
// CONCATENATED MODULE: ./pages/sokutore.vue?vue&type=script&lang=js&
 /* harmony default export */ var pages_sokutorevue_type_script_lang_js_ = (sokutorevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/sokutore.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(88)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  pages_sokutorevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  null,
  "5e87f8e2"
  
)

/* harmony default export */ var sokutore = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 76:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(89);
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(4).default
module.exports.__inject__ = function (context) {
  add("43c73608", content, true, context)
};

/***/ }),

/***/ 88:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sokutore_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(76);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sokutore_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sokutore_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sokutore_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sokutore_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ 89:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(3);
var ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);
// Module
___CSS_LOADER_EXPORT___.push([module.i, ".tategaki-wrapper{align-items:center}.tategaki,.tategaki-wrapper{display:flex;flex-flow:column}.tategaki{-ms-writing-mode:tb-rl;-moz-writing-mode:vertical-rl;writing-mode:vertical-rl;height:50vh;letter-spacing:.3em}.trimmed-wrapper span{padding:.3em}.trimmed-wrapper span:first-child{z-index:1;text-align:center;border-radius:50%;letter-spacing:0}.trimmed-wrapper span:nth-child(2){z-index:2;margin-top:-.9em;margin-bottom:-1.2em}.trimmed-wrapper span:nth-child(3){z-index:1;text-align:center;border-radius:50%;letter-spacing:0}.wrapper-content{border-radius:4px;background:#fff}#sokutore_button{border:.5px solid #3362a8;color:#3362a8;border-radius:8px}.is-size-6-sokutore,.is-size-7-sokutore,.is-size-8-sokutore{font-size:.5em;line-height:6em}", ""]);
// Exports
module.exports = ___CSS_LOADER_EXPORT___;


/***/ })

};;
//# sourceMappingURL=sokutore.js.map